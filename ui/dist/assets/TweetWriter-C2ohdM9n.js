import{ax as m,r as a,al as e,aw as v,ay as w}from"./index-C1dXcKKh.js";import{C as N}from"./check-CwRgc88d.js";const S=[["rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2",key:"17jyea"}],["path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2",key:"zix9uf"}]],T=m("copy",S);const k=[["path",{d:"M14.536 21.686a.5.5 0 0 0 .937-.024l6.5-19a.496.496 0 0 0-.635-.635l-19 6.5a.5.5 0 0 0-.024.937l7.93 3.18a2 2 0 0 1 1.112 1.11z",key:"1ffxy3"}],["path",{d:"m21.854 2.147-10.94 10.939",key:"12cjpa"}]],C=m("send",k);function G(){const[r,p]=a.useState(""),[l,u]=a.useState("engaging"),[n,y]=a.useState([]),[i,c]=a.useState(!1),[o,d]=a.useState(null),[x,h]=a.useState(null),b=[{value:"engaging",label:"ðŸ”¥ Engaging",desc:"Hooks + value"},{value:"thread",label:"ðŸ§µ Thread Opener",desc:"Start a thread"},{value:"hot-take",label:"ðŸŒ¶ï¸ Hot Take",desc:"Spicy opinion"},{value:"educational",label:"ðŸ“š Educational",desc:"Teach something"},{value:"personal",label:"ðŸ’­ Personal",desc:"Story or reflection"},{value:"promotional",label:"ðŸ“£ Promotional",desc:"Soft sell"}],g=async()=>{if(r.trim()){c(!0);try{const s=await(await fetch("/api/writer/generate",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({topic:r,style:l})})).json();y(s.drafts||[])}catch{}c(!1)}},f=(t,s)=>{navigator.clipboard.writeText(t),d(s),setTimeout(()=>d(null),2e3)},j=async(t,s)=>{h(s);try{await fetch("/api/writer/schedule",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({text:t})})}catch{}h(null)};return e.jsxs("div",{className:"p-8 space-y-6",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-2xl font-bold",children:"AI Tweet Writer"}),e.jsx("p",{className:"text-sm text-gray-500",children:"Advanced drafting â€” styles, threads, and scheduling"})]}),e.jsxs("div",{className:"glass-card rounded-xl p-6 space-y-4",children:[e.jsx("div",{children:e.jsx("textarea",{value:r,onChange:t=>p(t.target.value),placeholder:"Topic or brief â€” e.g. 'Why AI tools are overrated', 'Tips for getting your first 1000 followers', 'Building in public lessons'",rows:3,className:"w-full px-4 py-3 bg-gray-900 border border-gray-700 rounded-lg text-sm focus:outline-none focus:border-primary transition-colors resize-none"})}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium mb-2 text-gray-300",children:"Style"}),e.jsx("div",{className:"grid grid-cols-3 gap-2",children:b.map(t=>e.jsxs("button",{onClick:()=>u(t.value),className:`p-3 rounded-lg text-left transition-all ${l===t.value?"bg-primary/10 border border-primary/30 text-white":"bg-gray-900 border border-gray-800 text-gray-400 hover:border-gray-600"}`,children:[e.jsx("p",{className:"text-sm font-medium",children:t.label}),e.jsx("p",{className:"text-xs text-gray-500",children:t.desc})]},t.value))})]}),e.jsx("button",{onClick:g,disabled:i||!r.trim(),className:"w-full py-3 bg-gradient-to-r from-primary to-accent hover:opacity-90 disabled:opacity-40 text-white font-semibold rounded-xl transition-all flex items-center justify-center gap-2",children:i?e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-2 border-white border-t-transparent"})," Generating..."]}):e.jsxs(e.Fragment,{children:[e.jsx(v,{className:"w-4 h-4"})," Generate 3 Drafts"]})})]}),n.length>0&&e.jsxs("div",{className:"space-y-4",children:[e.jsx("h3",{className:"text-sm font-semibold text-gray-400",children:"Generated Drafts"}),n.map((t,s)=>e.jsxs("div",{className:"glass-card rounded-xl p-5",children:[e.jsx("p",{className:"text-sm text-gray-200 whitespace-pre-wrap mb-4",children:t.text}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsxs("span",{className:"text-xs text-gray-500",children:[t.text.length,"/280"]}),e.jsx("div",{className:`w-12 h-1 rounded-full ${t.text.length>280?"bg-danger":t.text.length>250?"bg-warning":"bg-success"}`,children:e.jsx("div",{className:"h-full rounded-full bg-current",style:{width:`${Math.min(100,t.text.length/280*100)}%`}})})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsxs("button",{onClick:()=>f(t.text,s),className:"flex items-center gap-1.5 px-3 py-1.5 rounded-lg text-xs text-gray-400 hover:text-white hover:bg-gray-800 transition-all",children:[o===s?e.jsx(N,{className:"w-3 h-3 text-success"}):e.jsx(T,{className:"w-3 h-3"}),o===s?"Copied":"Copy"]}),e.jsxs("button",{onClick:()=>j(t.text,s),disabled:x===s,className:"flex items-center gap-1.5 px-3 py-1.5 rounded-lg text-xs bg-primary/10 text-primary hover:bg-primary/20 transition-all",children:[e.jsx(C,{className:"w-3 h-3"}),x===s?"Scheduling...":"Schedule"]})]})]})]},s)),e.jsxs("button",{onClick:g,className:"w-full py-2.5 border border-gray-700 hover:border-gray-500 rounded-xl text-sm text-gray-400 hover:text-white transition-all flex items-center justify-center gap-2",children:[e.jsx(w,{className:"w-3 h-3"})," Regenerate"]})]})]})}export{G as default};
