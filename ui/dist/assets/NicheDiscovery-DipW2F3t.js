import{r,al as e,as as u,at as j,au as y,av as f,aw as N}from"./index-C1dXcKKh.js";function w(){const[l,c]=r.useState(""),[t,h]=r.useState(null),[n,i]=r.useState(!1),[d,g]=r.useState([]),[o,p]=r.useState([]),[v,x]=r.useState(!0);r.useEffect(()=>{fetch("/api/discover/suggested").then(s=>s.json()).then(s=>{g(s.niches||[]),p(s.topAccounts||[]),x(!1)}).catch(()=>x(!1))},[]);const m=async()=>{if(l.trim()){i(!0);try{const a=await(await fetch(`/api/discover/search?q=${encodeURIComponent(l)}`)).json();h(a)}catch{}i(!1)}};return e.jsxs("div",{className:"p-8 space-y-6",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-2xl font-bold",children:"Niche Discovery"}),e.jsx("p",{className:"text-sm text-gray-500",children:"Find accounts and content in your niche to learn from"})]}),e.jsxs("div",{className:"glass-card rounded-xl p-5",children:[e.jsxs("div",{className:"flex gap-3",children:[e.jsxs("div",{className:"flex-1 relative",children:[e.jsx(u,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-4 h-4 text-gray-500"}),e.jsx("input",{value:l,onChange:s=>c(s.target.value),onKeyDown:s=>s.key==="Enter"&&m(),placeholder:"Search for a niche, topic, or account (e.g. 'indie hackers', 'AI tools', '@username')",className:"w-full pl-10 pr-4 py-2.5 bg-gray-900 border border-gray-700 rounded-lg text-sm focus:outline-none focus:border-primary transition-colors"})]}),e.jsx("button",{onClick:m,disabled:n||!l.trim(),className:"px-6 py-2.5 bg-primary hover:bg-primary-hover disabled:opacity-40 text-white font-semibold rounded-lg transition-all text-sm",children:n?"Searching...":"Search"})]}),d.length>0&&e.jsxs("div",{className:"flex gap-2 mt-3 flex-wrap",children:[e.jsx("span",{className:"text-xs text-gray-500",children:"Try:"}),d.map(s=>e.jsx("button",{onClick:()=>{c(s)},className:"text-xs px-2.5 py-1 rounded-full bg-gray-800 text-gray-400 hover:text-white hover:bg-gray-700 transition-all",children:s},s))]})]}),t&&e.jsxs("div",{className:"space-y-4",children:[t.accounts?.length>0&&e.jsxs("div",{className:"glass-card rounded-xl",children:[e.jsx("div",{className:"p-4 border-b border-gray-800",children:e.jsxs("h3",{className:"text-sm font-semibold flex items-center gap-2",children:[e.jsx(j,{className:"w-4 h-4 text-primary"})," Accounts in this niche"]})}),e.jsx("div",{className:"divide-y divide-gray-800/50",children:t.accounts.map((s,a)=>e.jsxs("div",{className:"flex items-center gap-4 p-4 hover:bg-gray-800/20 transition-colors",children:[e.jsx("div",{className:"w-10 h-10 rounded-full bg-gray-800 flex items-center justify-center text-sm font-bold text-gray-400",children:s.username?.[0]?.toUpperCase()}),e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("p",{className:"text-sm font-semibold",children:s.name}),e.jsxs("p",{className:"text-xs text-gray-500",children:["@",s.username]})]}),e.jsx("p",{className:"text-xs text-gray-400 line-clamp-1",children:s.description})]}),e.jsxs("div",{className:"text-right shrink-0",children:[e.jsx("p",{className:"text-sm font-mono",children:s.followers?.toLocaleString()}),e.jsx("p",{className:"text-xs text-gray-500",children:"followers"})]}),e.jsx("a",{href:`https://x.com/${s.username}`,target:"_blank",rel:"noopener",className:"p-2 hover:bg-gray-800 rounded-lg transition-colors",children:e.jsx(y,{className:"w-4 h-4 text-gray-500"})})]},a))})]}),t.tweets?.length>0&&e.jsxs("div",{className:"glass-card rounded-xl",children:[e.jsx("div",{className:"p-4 border-b border-gray-800",children:e.jsxs("h3",{className:"text-sm font-semibold flex items-center gap-2",children:[e.jsx(f,{className:"w-4 h-4 text-accent"}),' Top tweets for "',l,'"']})}),e.jsx("div",{className:"divide-y divide-gray-800/50",children:t.tweets.map((s,a)=>e.jsxs("div",{className:"p-4 hover:bg-gray-800/20 transition-colors",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[e.jsxs("span",{className:"text-xs font-semibold text-gray-300",children:["@",s.author]}),e.jsxs("span",{className:"text-xs text-gray-600",children:["Â· ",s.date]})]}),e.jsx("p",{className:"text-sm text-gray-200 mb-2",children:s.text}),e.jsxs("div",{className:"flex items-center gap-4 text-xs text-gray-500",children:[e.jsxs("span",{children:[s.impressions?.toLocaleString()," views"]}),e.jsxs("span",{children:[s.likes," likes"]}),e.jsxs("span",{children:[s.retweets," RTs"]})]})]},a))})]}),t.accounts?.length===0&&t.tweets?.length===0&&e.jsx("div",{className:"text-center py-12 text-gray-500",children:e.jsx("p",{children:"No results found. Try a different search term."})})]}),!t&&o.length>0&&e.jsxs("div",{className:"glass-card rounded-xl",children:[e.jsxs("div",{className:"p-4 border-b border-gray-800",children:[e.jsxs("h3",{className:"text-sm font-semibold flex items-center gap-2",children:[e.jsx(N,{className:"w-4 h-4 text-warning"})," Recommended accounts to watch"]}),e.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Based on accounts similar to yours"})]}),e.jsx("div",{className:"divide-y divide-gray-800/50",children:o.map((s,a)=>e.jsxs("div",{className:"flex items-center gap-4 p-4 hover:bg-gray-800/20 transition-colors",children:[e.jsx("div",{className:"w-10 h-10 rounded-full bg-gray-800 flex items-center justify-center text-sm font-bold text-gray-400",children:s.username?.[0]?.toUpperCase()}),e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("p",{className:"text-sm font-semibold",children:s.name}),e.jsxs("p",{className:"text-xs text-gray-500",children:["@",s.username]})]}),e.jsx("p",{className:"text-xs text-gray-400 line-clamp-1",children:s.description})]}),e.jsxs("div",{className:"text-right shrink-0",children:[e.jsx("p",{className:"text-sm font-mono",children:s.followers?.toLocaleString()}),e.jsx("p",{className:"text-xs text-gray-500",children:"followers"})]})]},a))})]})]})}export{w as default};
