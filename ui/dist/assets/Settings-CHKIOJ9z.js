import{ax as g,az as ce,r as t,al as e,aA as m,ay as J,aB as ne,aC as ie,au as de}from"./index-C1dXcKKh.js";import{C as xe}from"./chevron-down-CkAMlpbj.js";const pe=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]],f=g("circle-x",pe);const me=[["path",{d:"M10.733 5.076a10.744 10.744 0 0 1 11.205 6.575 1 1 0 0 1 0 .696 10.747 10.747 0 0 1-1.444 2.49",key:"ct8e1f"}],["path",{d:"M14.084 14.158a3 3 0 0 1-4.242-4.242",key:"151rxh"}],["path",{d:"M17.479 17.499a10.75 10.75 0 0 1-15.417-5.151 1 1 0 0 1 0-.696 10.75 10.75 0 0 1 4.446-5.143",key:"13bj9a"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]],ue=g("eye-off",me);const he=[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]],W=g("triangle-alert",he),ye=[{label:"London (UTC+0)",value:"Europe/London"},{label:"Paris (UTC+1)",value:"Europe/Paris"},{label:"New York (UTC-5)",value:"America/New_York"},{label:"Chicago (UTC-6)",value:"America/Chicago"},{label:"Los Angeles (UTC-8)",value:"America/Los_Angeles"},{label:"Sydney (UTC+10)",value:"Australia/Sydney"},{label:"Tokyo (UTC+9)",value:"Asia/Tokyo"},{label:"Dubai (UTC+4)",value:"Asia/Dubai"},{label:"Singapore (UTC+8)",value:"Asia/Singapore"}];function be({on:o,onChange:r}){return e.jsx("button",{type:"button",onClick:()=>r(!o),className:"relative inline-flex h-5 w-9 items-center rounded-full transition-colors duration-200 focus:outline-none shrink-0",style:{background:o?"var(--color-primary)":"var(--color-border)"},children:e.jsx("span",{className:"inline-block h-3.5 w-3.5 rounded-full bg-white shadow transition-transform duration-200",style:{transform:o?"translateX(18px)":"translateX(3px)"}})})}function v({connected:o}){return e.jsxs("span",{className:"flex items-center gap-1.5 text-[12px] font-medium",style:{color:o?"var(--color-success)":"var(--color-text-muted)"},children:[o?e.jsx(m,{className:"w-3.5 h-3.5"}):e.jsx(f,{className:"w-3.5 h-3.5"}),o?"Connected":"Not connected"]})}function ve(o){return o?o.length<=8?"‚Ä¢".repeat(o.length):o.slice(0,4)+"‚Ä¢".repeat(Math.min(o.length-8,20))+o.slice(-4):"‚Äî"}function je(){const o=ce(),[r,j]=t.useState({}),[N,k]=t.useState(!1),[Z,C]=t.useState(!1),[w,S]=t.useState(!1),[n,i]=t.useState(null),[u,T]=t.useState(!1),[h,V]=t.useState(!1),[d,A]=t.useState(!1),[E,G]=t.useState(!1),[P,I]=t.useState(""),[U,_]=t.useState(!1),[z,R]=t.useState(""),[O,K]=t.useState(!1),[M,X]=t.useState(!1),[y,F]=t.useState(""),[b,$]=t.useState(""),[l,x]=t.useState(null),[D,L]=t.useState(!1);t.useEffect(()=>{fetch("/api/settings").then(s=>s.json()).then(s=>j(s.config||{}))},[]);const c=async s=>{k(!0);const a={...r,...s};j(a),await fetch("/api/config",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(a)}),k(!1),C(!0),setTimeout(()=>C(!1),2500)},Q=async()=>{S(!0),i(null);try{const a=await(await fetch("/api/twitter/verify")).json();i(a.ok?"success":"error")}catch{i("error")}S(!1),setTimeout(()=>i(null),5e3)},ee=async()=>{const s=["bearerToken","apiKey","apiSecret","accessToken","accessSecret"],a={};s.forEach(q=>{const Y=document.getElementById(`cred-${q}`);Y&&(a[q]=Y.value)}),await c(a),T(!1)},se=async()=>{if(!d){A(!0),setTimeout(()=>A(!1),5e3);return}G(!0);try{await fetch("/api/config/reset",{method:"POST"})}catch{}o("/onboarding",{replace:!0})},te=async()=>{L(!0),x(null);try{const a=await(await fetch("/api/test-cookie-auth",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({})})).json();x(a)}catch{x({success:!1,error:"Connection failed"})}L(!1),setTimeout(()=>x(null),8e3)},oe=async()=>{await c({authToken:y,ct0:b}),X(!1),F(""),$("")},B=!!r.bearerToken,re=!!r.postizKey,ae=!!r.openaiKey,H=!!r.authToken,p=r.username||r.twitterHandle||"",le=r.displayName||r.name||"";return e.jsxs("div",{className:"p-8 w-full max-w-4xl space-y-6 animate-in",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-2xl font-bold",children:"Account"}),e.jsx("p",{className:"text-[13px] mt-0.5",style:{color:"var(--color-text-muted)"},children:"Manage your connections, preferences and credentials"})]}),e.jsxs("div",{className:"card p-6 space-y-4",children:[e.jsx("h2",{className:"text-[13px] font-semibold uppercase tracking-wider",style:{color:"var(--color-text-muted)"},children:"Account"}),e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{className:"flex items-center justify-between py-2 border-b",style:{borderColor:"var(--color-border-subtle)"},children:[e.jsx("span",{className:"text-[13px]",style:{color:"var(--color-text-muted)"},children:"Name"}),e.jsx("span",{className:"text-[14px] font-medium",children:le||"‚Äî"})]}),e.jsxs("div",{className:"flex items-center justify-between py-2",children:[e.jsx("span",{className:"text-[13px]",style:{color:"var(--color-text-muted)"},children:"Username"}),e.jsx("span",{className:"text-[14px] font-medium",children:p?`@${p}`:"‚Äî"})]})]})]}),e.jsxs("div",{className:"card p-6 space-y-5",children:[e.jsx("h2",{className:"text-[13px] font-semibold uppercase tracking-wider",style:{color:"var(--color-text-muted)"},children:"Settings"}),e.jsxs("div",{className:"space-y-1.5",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-[14px] font-medium",children:"Connect to Twitter/X"}),e.jsxs("p",{className:"text-[12px] mt-0.5",style:{color:"var(--color-text-muted)"},children:["Posts will be published with ",p?`@${p}`:"your account"]})]}),e.jsx(be,{on:B,onChange:()=>{}})]}),B&&e.jsxs("p",{className:"text-[12px] font-medium flex items-center gap-1.5",style:{color:"var(--color-success)"},children:[e.jsx(m,{className:"w-3.5 h-3.5"}),"Connected via Bearer Token"]})]}),e.jsx("div",{className:"border-t",style:{borderColor:"var(--color-border-subtle)"}}),e.jsxs("div",{className:"flex items-center justify-between gap-4",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-[14px] font-medium",children:"Timezone"}),e.jsx("p",{className:"text-[12px] mt-0.5",style:{color:"var(--color-text-muted)"},children:"Used for scheduling your post queue"})]}),e.jsx("select",{value:r.timezone||"Europe/London",onChange:s=>c({timezone:s.target.value}),className:"text-[13px] px-3 py-2 rounded-lg border appearance-none cursor-pointer",style:{background:"var(--color-bg-secondary)",borderColor:"var(--color-border)",color:"var(--color-text)",minWidth:"180px"},children:ye.map(s=>e.jsx("option",{value:s.value,children:s.label},s.value))})]}),e.jsx("div",{className:"border-t",style:{borderColor:"var(--color-border-subtle)"}}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-[14px] font-medium",children:"Postiz Connection"}),e.jsx("p",{className:"text-[12px] mt-0.5",style:{color:"var(--color-text-muted)"},children:"For scheduled publishing via Postiz"})]}),e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx(v,{connected:re}),e.jsx("button",{onClick:()=>_(s=>!s),className:"text-[12px] px-3 py-1.5 rounded-lg border hover:bg-white/5 transition-colors",style:{borderColor:"var(--color-border)",color:"var(--color-text-secondary)"},children:U?"Cancel":"Update key"})]})]}),U&&e.jsxs("div",{className:"flex gap-2 mt-1",children:[e.jsx("input",{type:"password",placeholder:"Postiz API key‚Ä¶",value:P,onChange:s=>I(s.target.value),className:"flex-1 px-3 py-2 rounded-lg border text-[13px]",style:{background:"var(--color-bg-secondary)",borderColor:"var(--color-border)",color:"var(--color-text)"}}),e.jsx("button",{onClick:()=>{c({postizKey:P}),_(!1),I("")},className:"px-4 py-2 rounded-lg text-[13px] font-semibold text-white",style:{background:"var(--color-primary)"},children:"Save"})]})]}),e.jsx("div",{className:"border-t",style:{borderColor:"var(--color-border-subtle)"}}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-[14px] font-medium",children:"OpenAI Connection"}),e.jsx("p",{className:"text-[12px] mt-0.5",style:{color:"var(--color-text-muted)"},children:"For AI post generation and suggestions"})]}),e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx(v,{connected:ae}),e.jsx("button",{onClick:()=>K(s=>!s),className:"text-[12px] px-3 py-1.5 rounded-lg border hover:bg-white/5 transition-colors",style:{borderColor:"var(--color-border)",color:"var(--color-text-secondary)"},children:O?"Cancel":"Update key"})]})]}),O&&e.jsxs("div",{className:"flex gap-2 mt-1",children:[e.jsx("input",{type:"password",placeholder:"sk-proj-‚Ä¶",value:z,onChange:s=>R(s.target.value),className:"flex-1 px-3 py-2 rounded-lg border text-[13px]",style:{background:"var(--color-bg-secondary)",borderColor:"var(--color-border)",color:"var(--color-text)"}}),e.jsx("button",{onClick:()=>{c({openaiKey:z}),K(!1),R("")},className:"px-4 py-2 rounded-lg text-[13px] font-semibold text-white",style:{background:"var(--color-primary)"},children:"Save"})]})]}),e.jsx("div",{className:"border-t",style:{borderColor:"var(--color-border-subtle)"}}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsxs("p",{className:"text-[14px] font-medium",children:["X Cookie Auth ",e.jsx("span",{className:"text-[10px] font-normal px-1.5 py-0.5 rounded ml-1.5",style:{background:"oklch(0.65 0.19 250 / 0.1)",color:"var(--color-primary)"},children:"Real Metrics"})]}),e.jsx("p",{className:"text-[12px] mt-0.5",style:{color:"var(--color-text-muted)"},children:"Unlocks real impression counts via non_public_metrics"})]}),e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx(v,{connected:H}),e.jsx("button",{onClick:()=>X(s=>!s),className:"text-[12px] px-3 py-1.5 rounded-lg border hover:bg-white/5 transition-colors",style:{borderColor:"var(--color-border)",color:"var(--color-text-secondary)"},children:M?"Cancel":"Configure"})]})]}),M&&e.jsxs("div",{className:"mt-2 space-y-3",children:[e.jsxs("div",{className:"p-3 rounded-lg text-[12px] leading-relaxed space-y-1.5",style:{background:"oklch(0.65 0.19 250 / 0.06)",border:"1px solid oklch(0.65 0.19 250 / 0.15)"},children:[e.jsx("p",{className:"font-semibold",style:{color:"var(--color-primary)"},children:"How to get your cookies:"}),e.jsxs("ol",{className:"list-decimal ml-4 space-y-0.5",style:{color:"var(--color-text-secondary)"},children:[e.jsxs("li",{children:["Sign in to ",e.jsx("a",{href:"https://x.com",target:"_blank",rel:"noopener",className:"underline",style:{color:"var(--color-primary)"},children:"x.com"})," in your browser"]}),e.jsx("li",{children:"Open DevTools (F12) ‚Üí Application ‚Üí Cookies ‚Üí x.com"}),e.jsxs("li",{children:["Copy the values for ",e.jsx("code",{className:"font-mono px-1 py-0.5 rounded",style:{background:"var(--color-bg-secondary)"},children:"auth_token"})," and ",e.jsx("code",{className:"font-mono px-1 py-0.5 rounded",style:{background:"var(--color-bg-secondary)"},children:"ct0"})]})]}),e.jsx("p",{className:"flex items-center gap-1.5 mt-2 font-medium",style:{color:"var(--color-success)"},children:"üîí These stay on your machine. Xcellent never sends them anywhere."})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-[12px] font-medium mb-1",style:{color:"var(--color-text-muted)"},children:"auth_token"}),e.jsx("input",{type:"password",placeholder:"Paste auth_token cookie‚Ä¶",value:y,onChange:s=>F(s.target.value),className:"w-full px-3 py-2 rounded-lg border text-[13px] font-mono",style:{background:"var(--color-bg-secondary)",borderColor:"var(--color-border)",color:"var(--color-text)"}})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-[12px] font-medium mb-1",style:{color:"var(--color-text-muted)"},children:"ct0"}),e.jsx("input",{type:"password",placeholder:"Paste ct0 cookie‚Ä¶",value:b,onChange:s=>$(s.target.value),className:"w-full px-3 py-2 rounded-lg border text-[13px] font-mono",style:{background:"var(--color-bg-secondary)",borderColor:"var(--color-border)",color:"var(--color-text)"}})]}),e.jsxs("div",{className:"flex gap-2 items-center",children:[e.jsx("button",{onClick:oe,disabled:!y||!b,className:"px-4 py-2 rounded-lg text-[13px] font-semibold text-white disabled:opacity-40 transition-opacity",style:{background:"var(--color-primary)"},children:"Save Cookies"}),H&&e.jsxs("button",{onClick:te,disabled:D,className:"flex items-center gap-1.5 px-4 py-2 rounded-lg border text-[13px] font-medium disabled:opacity-40 hover:bg-white/5 transition-colors",style:{borderColor:"var(--color-border)",color:"var(--color-text-secondary)"},children:[e.jsx(J,{className:`w-3.5 h-3.5 ${D?"animate-spin":""}`}),"Test Connection"]})]}),l&&e.jsxs("div",{className:"flex items-center gap-2 text-[12px] font-medium",style:{color:l.success?"var(--color-success)":"var(--color-danger)"},children:[l.success?e.jsx(m,{className:"w-3.5 h-3.5"}):e.jsx(f,{className:"w-3.5 h-3.5"}),l.message||l.error]})]})]})]}),e.jsxs("div",{className:"card p-6 space-y-4",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("h2",{className:"text-[13px] font-semibold uppercase tracking-wider",style:{color:"var(--color-text-muted)"},children:"API Credentials"}),e.jsxs("button",{onClick:()=>V(s=>!s),className:"flex items-center gap-1.5 text-[12px] hover:opacity-70 transition-opacity",style:{color:"var(--color-text-muted)"},children:[h?e.jsx(ue,{className:"w-3.5 h-3.5"}):e.jsx(ne,{className:"w-3.5 h-3.5"}),h?"Hide":"Show"]})]}),e.jsx("div",{className:"space-y-2.5",children:[{key:"bearerToken",label:"Bearer Token"},{key:"apiKey",label:"API Key"},{key:"apiSecret",label:"API Secret"},{key:"accessToken",label:"Access Token"},{key:"accessSecret",label:"Access Token Secret"}].map(({key:s,label:a})=>e.jsxs("div",{className:"flex items-center justify-between py-1.5",children:[e.jsx("span",{className:"text-[12px]",style:{color:"var(--color-text-muted)"},children:a}),e.jsx("span",{className:"text-[12px] font-mono",style:{color:r[s]?"var(--color-text-secondary)":"var(--color-text-muted)"},children:h?r[s]||"‚Äî":ve(r[s])})]},s))}),e.jsxs("div",{className:"pt-2 border-t",style:{borderColor:"var(--color-border-subtle)"},children:[e.jsxs("button",{onClick:()=>T(s=>!s),className:"flex items-center gap-2 text-[13px] font-medium hover:opacity-80 transition-opacity",style:{color:"var(--color-primary)"},children:[u?e.jsx(ie,{className:"w-4 h-4"}):e.jsx(xe,{className:"w-4 h-4"}),u?"Hide form":"Update credentials"]}),u&&e.jsxs("div",{className:"mt-4 space-y-3",children:[[{key:"bearerToken",label:"Bearer Token"},{key:"apiKey",label:"API Key"},{key:"apiSecret",label:"API Secret"},{key:"accessToken",label:"Access Token"},{key:"accessSecret",label:"Access Token Secret"}].map(({key:s,label:a})=>e.jsxs("div",{children:[e.jsx("label",{className:"block text-[12px] font-medium mb-1",style:{color:"var(--color-text-muted)"},children:a}),e.jsx("input",{id:`cred-${s}`,type:"password",defaultValue:r[s]||"",placeholder:"‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢",className:"w-full px-3 py-2 rounded-lg border text-[13px] font-mono",style:{background:"var(--color-bg-secondary)",borderColor:"var(--color-border)",color:"var(--color-text)"}})]},s)),e.jsxs("div",{className:"flex gap-2 pt-1",children:[e.jsx("button",{onClick:ee,disabled:N,className:"px-4 py-2 rounded-lg text-[13px] font-semibold text-white disabled:opacity-40 transition-opacity",style:{background:"var(--color-primary)"},children:Z?"‚úì Saved":N?"Saving‚Ä¶":"Save credentials"}),e.jsxs("button",{onClick:Q,disabled:w,className:"flex items-center gap-1.5 px-4 py-2 rounded-lg border text-[13px] font-medium disabled:opacity-40 hover:bg-white/5 transition-colors",style:{borderColor:"var(--color-border)",color:"var(--color-text-secondary)"},children:[e.jsx(J,{className:`w-3.5 h-3.5 ${w?"animate-spin":""}`}),"Test Connection"]}),n&&e.jsxs("span",{className:"flex items-center gap-1 text-[12px] font-medium",style:{color:n==="success"?"var(--color-success)":"var(--color-danger)"},children:[n==="success"?e.jsx(m,{className:"w-3.5 h-3.5"}):e.jsx(f,{className:"w-3.5 h-3.5"}),n==="success"?"Connected!":"Failed"]})]})]})]})]}),e.jsxs("div",{className:"card p-6 space-y-3",style:{borderColor:"oklch(0.65 0.2 25 / 0.35)"},children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(W,{className:"w-4 h-4",style:{color:"var(--color-danger)"}}),e.jsx("h2",{className:"text-[13px] font-semibold uppercase tracking-wider",style:{color:"var(--color-danger)"},children:"Danger Zone"})]}),e.jsx("p",{className:"text-[13px]",style:{color:"var(--color-text-muted)"},children:"Permanently delete all config, cache and history. You'll be taken back to onboarding."}),e.jsxs("button",{onClick:se,disabled:E,className:"flex items-center gap-2 px-4 py-2 rounded-lg border text-[13px] font-semibold transition-colors disabled:opacity-40",style:{borderColor:d?"var(--color-danger)":"oklch(0.65 0.2 25 / 0.4)",color:"var(--color-danger)",background:d?"oklch(0.65 0.2 25 / 0.1)":"transparent"},children:[e.jsx(W,{className:"w-4 h-4"}),E?"Resetting‚Ä¶":d?"‚ö†Ô∏è Click again to confirm":"Reset Everything"]})]}),e.jsxs("div",{className:"flex items-center justify-between pb-4 text-[12px]",style:{color:"var(--color-text-muted)"},children:[e.jsxs("a",{href:"https://github.com/oliverhenry/xcellent/issues",target:"_blank",rel:"noopener noreferrer",className:"flex items-center gap-1.5 hover:opacity-80 transition-opacity",style:{color:"var(--color-primary)"},children:[e.jsx(de,{className:"w-3.5 h-3.5"}),"Support & Feedback"]}),e.jsx("span",{children:"Xcellent v1.0.0 ‚Äî Free & Open Source"})]}),e.jsxs("div",{className:"card p-4 mt-4 flex items-center justify-between",style:{background:"oklch(0.65 0.19 250 / 0.04)",border:"1px solid var(--color-border-subtle)"},children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-[13px] font-semibold",children:"Want Auto Retweet, Scheduling & more?"}),e.jsx("p",{className:"text-[11px]",style:{color:"var(--color-text-muted)"},children:"Features like Auto Retweet, Auto Delete, post scheduling, and cross-posting are available with SuperX."})]}),e.jsx("a",{href:"https://superx.so/?via=oliver",target:"_blank",rel:"noopener noreferrer",className:"shrink-0 px-4 py-2 rounded-lg text-[12px] font-semibold text-white transition-all hover:opacity-90",style:{background:"var(--color-primary)"},children:"Try SuperX ‚Üí"})]})]})}export{je as default};
