import{w as $t,c as le,s as Te,i as ie,r as l,a as We,u as pt,g as _t,b as ft,d as vt,e as Kt,J as mt,f as ae,h as z,L as oe,C as Gt,S as qt,R as Vt,j as Fe,k as Ht,m as Ut,l as Xt,n as Yt,o as xe,p as Be,q as Ce,t as Jt,v as H,x as Zt,y as Qt,z as re,A as er,B as Y,D as ee,E as J,F as te,G as ht,H as gt,I as yt,K as tr,M as rr,N as Ge,O as ar,P as qe,Q as nr,T as ir,U as $e,V as xt,W as or,X as sr,Y as lr,Z as _e,_ as bt,$ as cr,a0 as dr,a1 as ur,a2 as pr,a3 as fr,a4 as pe,a5 as jt,a6 as vr,a7 as mr,a8 as hr,a9 as Ve,aa as kt,ab as gr,ac as wt,ad as yr,ae as xr,af as br,ag as jr,ah as kr,ai as He,aj as wr,ak as Pr,al as o,am as ue,an as De,ao as we,ap as Pe,aq as Oe,ar as ze}from"./index-C1dXcKKh.js";const Pt=Math.cos,fe=Math.sin,W=Math.sqrt,ve=Math.PI,be=2*ve,Ke={draw(e,r){const t=W(r/ve);e.moveTo(t,0),e.arc(0,0,t,0,be)}},Or={draw(e,r){const t=W(r/5)/2;e.moveTo(-3*t,-t),e.lineTo(-t,-t),e.lineTo(-t,-3*t),e.lineTo(t,-3*t),e.lineTo(t,-t),e.lineTo(3*t,-t),e.lineTo(3*t,t),e.lineTo(t,t),e.lineTo(t,3*t),e.lineTo(-t,3*t),e.lineTo(-t,t),e.lineTo(-3*t,t),e.closePath()}},Ot=W(1/3),Sr=Ot*2,Ir={draw(e,r){const t=W(r/Sr),a=t*Ot;e.moveTo(0,-t),e.lineTo(a,0),e.lineTo(0,t),e.lineTo(-a,0),e.closePath()}},Ar={draw(e,r){const t=W(r),a=-t/2;e.rect(a,a,t,t)}},Er=.8908130915292852,St=fe(ve/10)/fe(7*ve/10),Tr=fe(be/10)*St,Br=-Pt(be/10)*St,Cr={draw(e,r){const t=W(r*Er),a=Tr*t,i=Br*t;e.moveTo(0,-t),e.lineTo(a,i);for(let n=1;n<5;++n){const s=be*n/5,c=Pt(s),u=fe(s);e.lineTo(u*t,-c*t),e.lineTo(c*a-u*i,u*a+c*i)}e.closePath()}},Se=W(3),Dr={draw(e,r){const t=-W(r/(Se*3));e.moveTo(0,t*2),e.lineTo(-Se*t,-t),e.lineTo(Se*t,-t),e.closePath()}},L=-.5,N=W(3)/2,Re=1/W(12),zr=(Re/2+1)*3,Rr={draw(e,r){const t=W(r/zr),a=t/2,i=t*Re,n=a,s=t*Re+t,c=-n,u=s;e.moveTo(a,i),e.lineTo(n,s),e.lineTo(c,u),e.lineTo(L*a-N*i,N*a+L*i),e.lineTo(L*n-N*s,N*n+L*s),e.lineTo(L*c-N*u,N*c+L*u),e.lineTo(L*a+N*i,L*i-N*a),e.lineTo(L*n+N*s,L*s-N*n),e.lineTo(L*c+N*u,L*u-N*c),e.closePath()}};function Lr(e,r){let t=null,a=$t(i);e=typeof e=="function"?e:le(e||Ke),r=typeof r=="function"?r:le(r===void 0?64:+r);function i(){let n;if(t||(t=n=a()),e.apply(this,arguments).draw(t,+r.apply(this,arguments)),n)return t=null,n+""||null}return i.type=function(n){return arguments.length?(e=typeof n=="function"?n:le(n),i):e},i.size=function(n){return arguments.length?(r=typeof n=="function"?n:le(+n),i):r},i.context=function(n){return arguments.length?(t=n??null,i):t},i}var Nr=["type","size","sizeType"];function Le(){return Le=Object.assign?Object.assign.bind():function(e){for(var r=1;r<arguments.length;r++){var t=arguments[r];for(var a in t)({}).hasOwnProperty.call(t,a)&&(e[a]=t[a])}return e},Le.apply(null,arguments)}function Ue(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);r&&(a=a.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),t.push.apply(t,a)}return t}function Xe(e){for(var r=1;r<arguments.length;r++){var t=arguments[r]!=null?arguments[r]:{};r%2?Ue(Object(t),!0).forEach(function(a){Mr(e,a,t[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):Ue(Object(t)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(t,a))})}return e}function Mr(e,r,t){return(r=Wr(r))in e?Object.defineProperty(e,r,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[r]=t,e}function Wr(e){var r=Fr(e,"string");return typeof r=="symbol"?r:r+""}function Fr(e,r){if(typeof e!="object"||!e)return e;var t=e[Symbol.toPrimitive];if(t!==void 0){var a=t.call(e,r);if(typeof a!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(r==="string"?String:Number)(e)}function $r(e,r){if(e==null)return{};var t,a,i=_r(e,r);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);for(a=0;a<n.length;a++)t=n[a],r.indexOf(t)===-1&&{}.propertyIsEnumerable.call(e,t)&&(i[t]=e[t])}return i}function _r(e,r){if(e==null)return{};var t={};for(var a in e)if({}.hasOwnProperty.call(e,a)){if(r.indexOf(a)!==-1)continue;t[a]=e[a]}return t}var It={symbolCircle:Ke,symbolCross:Or,symbolDiamond:Ir,symbolSquare:Ar,symbolStar:Cr,symbolTriangle:Dr,symbolWye:Rr},Kr=Math.PI/180,Gr=e=>{var r="symbol".concat(pt(e));return It[r]||Ke},qr=(e,r,t)=>{if(r==="area")return e;switch(t){case"cross":return 5*e*e/9;case"diamond":return .5*e*e/Math.sqrt(3);case"square":return e*e;case"star":{var a=18*Kr;return 1.25*e*e*(Math.tan(a)-Math.tan(a*2)*Math.tan(a)**2)}case"triangle":return Math.sqrt(3)*e*e/4;case"wye":return(21-10*Math.sqrt(3))*e*e/8;default:return Math.PI*e*e/4}},Vr=(e,r)=>{It["symbol".concat(pt(e))]=r},At=e=>{var{type:r="circle",size:t=64,sizeType:a="area"}=e,i=$r(e,Nr),n=Xe(Xe({},i),{},{type:r,size:t,sizeType:a}),s="circle";typeof r=="string"&&(s=r);var c=()=>{var f=Gr(s),j=Lr().type(f).size(qr(t,a,s)),m=j();if(m!==null)return m},{className:u,cx:p,cy:v}=n,g=Te(n);return ie(p)&&ie(v)&&ie(t)?l.createElement("path",Le({},g,{className:We("recharts-symbols",u),transform:"translate(".concat(p,", ").concat(v,")"),d:c()})):null};At.registerSymbol=Vr;var Et=e=>null;Et.displayName="Cell";var Ie={},Ye;function Hr(){return Ye||(Ye=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function r(t){if(typeof t!="object"||t==null)return!1;if(Object.getPrototypeOf(t)===null)return!0;if(Object.prototype.toString.call(t)!=="[object Object]"){const i=t[Symbol.toStringTag];return i==null||!Object.getOwnPropertyDescriptor(t,Symbol.toStringTag)?.writable?!1:t.toString()===`[object ${i}]`}let a=t;for(;Object.getPrototypeOf(a)!==null;)a=Object.getPrototypeOf(a);return Object.getPrototypeOf(t)===a}e.isPlainObject=r})(Ie)),Ie}var Ae,Je;function Ur(){return Je||(Je=1,Ae=Hr().isPlainObject),Ae}var Xr=Ur();const Yr=_t(Xr);var Ze,Qe,et,tt,rt;function at(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);r&&(a=a.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),t.push.apply(t,a)}return t}function nt(e){for(var r=1;r<arguments.length;r++){var t=arguments[r]!=null?arguments[r]:{};r%2?at(Object(t),!0).forEach(function(a){Jr(e,a,t[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):at(Object(t)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(t,a))})}return e}function Jr(e,r,t){return(r=Zr(r))in e?Object.defineProperty(e,r,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[r]=t,e}function Zr(e){var r=Qr(e,"string");return typeof r=="symbol"?r:r+""}function Qr(e,r){if(typeof e!="object"||!e)return e;var t=e[Symbol.toPrimitive];if(t!==void 0){var a=t.call(e,r);if(typeof a!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(r==="string"?String:Number)(e)}function me(){return me=Object.assign?Object.assign.bind():function(e){for(var r=1;r<arguments.length;r++){var t=arguments[r];for(var a in t)({}).hasOwnProperty.call(t,a)&&(e[a]=t[a])}return e},me.apply(null,arguments)}function ne(e,r){return r||(r=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(r)}}))}var it=(e,r,t,a,i)=>{var n=t-a,s;return s=ae(Ze||(Ze=ne(["M ",",",""])),e,r),s+=ae(Qe||(Qe=ne(["L ",",",""])),e+t,r),s+=ae(et||(et=ne(["L ",",",""])),e+t-n/2,r+i),s+=ae(tt||(tt=ne(["L ",",",""])),e+t-n/2-a,r+i),s+=ae(rt||(rt=ne(["L ",","," Z"])),e,r),s},ea={x:0,y:0,upperWidth:0,lowerWidth:0,height:0,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},ta=e=>{var r=ft(e,ea),{x:t,y:a,upperWidth:i,lowerWidth:n,height:s,className:c}=r,{animationEasing:u,animationDuration:p,animationBegin:v,isUpdateAnimationActive:g}=r,f=l.useRef(null),[j,m]=l.useState(-1),x=l.useRef(i),b=l.useRef(n),h=l.useRef(s),y=l.useRef(t),O=l.useRef(a),k=vt(e,"trapezoid-");if(l.useEffect(()=>{if(f.current&&f.current.getTotalLength)try{var T=f.current.getTotalLength();T&&m(T)}catch{}},[]),t!==+t||a!==+a||i!==+i||n!==+n||s!==+s||i===0&&n===0||s===0)return null;var S=We("recharts-trapezoid",c);if(!g)return l.createElement("g",null,l.createElement("path",me({},Te(r),{className:S,d:it(t,a,i,n,s)})));var w=x.current,E=b.current,C=h.current,I=y.current,P=O.current,A="0px ".concat(j===-1?1:j,"px"),Z="".concat(j,"px 0px"),R=Kt(["strokeDasharray"],p,u);return l.createElement(mt,{animationId:k,key:k,canBegin:j>0,duration:p,easing:u,isActive:g,begin:v},T=>{var _=z(w,i,T),F=z(E,n,T),U=z(C,s,T),G=z(I,t,T),q=z(P,a,T);f.current&&(x.current=_,b.current=F,h.current=U,y.current=G,O.current=q);var Q=T>0?{transition:R,strokeDasharray:Z}:{strokeDasharray:A};return l.createElement("path",me({},Te(r),{className:S,d:it(G,q,_,F,U),ref:f,style:nt(nt({},Q),r.style)}))})},ra=["option","shapeType","activeClassName"];function aa(e,r){if(e==null)return{};var t,a,i=na(e,r);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);for(a=0;a<n.length;a++)t=n[a],r.indexOf(t)===-1&&{}.propertyIsEnumerable.call(e,t)&&(i[t]=e[t])}return i}function na(e,r){if(e==null)return{};var t={};for(var a in e)if({}.hasOwnProperty.call(e,a)){if(r.indexOf(a)!==-1)continue;t[a]=e[a]}return t}function ot(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);r&&(a=a.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),t.push.apply(t,a)}return t}function he(e){for(var r=1;r<arguments.length;r++){var t=arguments[r]!=null?arguments[r]:{};r%2?ot(Object(t),!0).forEach(function(a){ia(e,a,t[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):ot(Object(t)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(t,a))})}return e}function ia(e,r,t){return(r=oa(r))in e?Object.defineProperty(e,r,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[r]=t,e}function oa(e){var r=sa(e,"string");return typeof r=="symbol"?r:r+""}function sa(e,r){if(typeof e!="object"||!e)return e;var t=e[Symbol.toPrimitive];if(t!==void 0){var a=t.call(e,r);if(typeof a!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(r==="string"?String:Number)(e)}function la(e,r){return he(he({},r),e)}function ca(e,r){return e==="symbols"}function st(e){var{shapeType:r,elementProps:t}=e;switch(r){case"rectangle":return l.createElement(Vt,t);case"trapezoid":return l.createElement(ta,t);case"sector":return l.createElement(qt,t);case"symbols":if(ca(r))return l.createElement(At,t);break;case"curve":return l.createElement(Gt,t);default:return null}}function da(e){return l.isValidElement(e)?e.props:e}function ua(e){var{option:r,shapeType:t,activeClassName:a="recharts-active-shape"}=e,i=aa(e,ra),n;if(l.isValidElement(r))n=l.cloneElement(r,he(he({},i),da(r)));else if(typeof r=="function")n=r(i,i.index);else if(Yr(r)&&typeof r!="boolean"){var s=la(r,i);n=l.createElement(st,{shapeType:t,elementProps:s})}else{var c=i;n=l.createElement(st,{shapeType:t,elementProps:c})}return i.isActive?l.createElement(oe,{className:a},n):n}var Tt=(e,r,t)=>{var a=Fe();return(i,n)=>s=>{e?.(i,n,s),a(Ht({activeIndex:String(n),activeDataKey:r,activeCoordinate:i.tooltipPosition,activeGraphicalItemId:t}))}},Bt=e=>{var r=Fe();return(t,a)=>i=>{e?.(t,a,i),r(Ut())}},Ct=(e,r,t)=>{var a=Fe();return(i,n)=>s=>{e?.(i,n,s),a(Xt({activeIndex:String(n),activeDataKey:r,activeCoordinate:i.tooltipPosition,activeGraphicalItemId:t}))}},lt=(e,r,t)=>{var a=t??e;if(!xe(a))return Be(a,r,0)},pa=(e,r,t)=>{var a={},i=e.filter(Yt),n=e.filter(p=>p.stackId==null),s=i.reduce((p,v)=>{var g=p[v.stackId];return g==null&&(g=[]),g.push(v),p[v.stackId]=g,p},a),c=Object.entries(s).map(p=>{var v,[g,f]=p,j=f.map(x=>x.dataKey),m=lt(r,t,(v=f[0])===null||v===void 0?void 0:v.barSize);return{stackId:g,dataKeys:j,barSize:m}}),u=n.map(p=>{var v=[p.dataKey].filter(f=>f!=null),g=lt(r,t,p.barSize);return{stackId:void 0,dataKeys:v,barSize:g}});return[...c,...u]};function ct(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);r&&(a=a.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),t.push.apply(t,a)}return t}function ce(e){for(var r=1;r<arguments.length;r++){var t=arguments[r]!=null?arguments[r]:{};r%2?ct(Object(t),!0).forEach(function(a){fa(e,a,t[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):ct(Object(t)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(t,a))})}return e}function fa(e,r,t){return(r=va(r))in e?Object.defineProperty(e,r,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[r]=t,e}function va(e){var r=ma(e,"string");return typeof r=="symbol"?r:r+""}function ma(e,r){if(typeof e!="object"||!e)return e;var t=e[Symbol.toPrimitive];if(t!==void 0){var a=t.call(e,r);if(typeof a!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(r==="string"?String:Number)(e)}function ha(e,r,t,a,i){var n,s=a.length;if(!(s<1)){var c=Be(e,t,0,!0),u,p=[];if(Ce((n=a[0])===null||n===void 0?void 0:n.barSize)){var v=!1,g=t/s,f=a.reduce((y,O)=>y+(O.barSize||0),0);f+=(s-1)*c,f>=t&&(f-=(s-1)*c,c=0),f>=t&&g>0&&(v=!0,g*=.9,f=s*g);var j=(t-f)/2>>0,m={offset:j-c,size:0};u=a.reduce((y,O)=>{var k,S={stackId:O.stackId,dataKeys:O.dataKeys,position:{offset:m.offset+m.size+c,size:v?g:(k=O.barSize)!==null&&k!==void 0?k:0}},w=[...y,S];return m=S.position,w},p)}else{var x=Be(r,t,0,!0);t-2*x-(s-1)*c<=0&&(c=0);var b=(t-2*x-(s-1)*c)/s;b>1&&(b>>=0);var h=Ce(i)?Math.min(b,i):b;u=a.reduce((y,O,k)=>[...y,{stackId:O.stackId,dataKeys:O.dataKeys,position:{offset:x+(b+c)*k+(b-h)/2,size:h}}],p)}return u}}var ga=(e,r,t,a,i,n,s)=>{var c=xe(s)?r:s,u=ha(t,a,i!==n?i:n,e,c);return i!==n&&u!=null&&(u=u.map(p=>ce(ce({},p),{},{position:ce(ce({},p.position),{},{offset:p.position.offset-i/2})}))),u},ya=(e,r)=>{var t=Jt(r);if(!(!e||t==null||r==null)){var{stackId:a}=r;if(a!=null){var i=e[a];if(i){var{stackedData:n}=i;if(n)return n.find(s=>s.key===t)}}}},xa=(e,r)=>{if(!(e==null||r==null)){var t=e.find(a=>a.stackId===r.stackId&&r.dataKey!=null&&a.dataKeys.includes(r.dataKey));if(t!=null)return t.position}};function ba(e,r){return e&&typeof e=="object"&&"zIndex"in e&&typeof e.zIndex=="number"&&Ce(e.zIndex)?e.zIndex:r}var ja=["children"];function ka(e,r){if(e==null)return{};var t,a,i=wa(e,r);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);for(a=0;a<n.length;a++)t=n[a],r.indexOf(t)===-1&&{}.propertyIsEnumerable.call(e,t)&&(i[t]=e[t])}return i}function wa(e,r){if(e==null)return{};var t={};for(var a in e)if({}.hasOwnProperty.call(e,a)){if(r.indexOf(a)!==-1)continue;t[a]=e[a]}return t}var Pa={data:[],xAxisId:"xAxis-0",yAxisId:"yAxis-0",dataPointFormatter:()=>({x:0,y:0,value:0}),errorBarOffset:0},Oa=l.createContext(Pa);function Sa(e){var{children:r}=e,t=ka(e,ja);return l.createElement(Oa.Provider,{value:t},r)}var Ia="Invariant failed";function Aa(e,r){throw new Error(Ia)}function Ne(){return Ne=Object.assign?Object.assign.bind():function(e){for(var r=1;r<arguments.length;r++){var t=arguments[r];for(var a in t)({}).hasOwnProperty.call(t,a)&&(e[a]=t[a])}return e},Ne.apply(null,arguments)}function ge(e){return l.createElement(ua,Ne({shapeType:"rectangle",activeClassName:"recharts-active-bar"},e))}var Ea=function(r){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return(a,i)=>{if(ie(r))return r;var n=ie(a)||xe(a);return n?r(a,i):(n||Aa(),t)}},Ta=(e,r,t)=>t,Ba=(e,r)=>r,se=H([gt,Ba],(e,r)=>e.filter(t=>t.type==="bar").find(t=>t.id===r)),Ca=H([se],e=>e?.maxBarSize),Da=(e,r,t,a)=>a,za=H([re,gt,Y,J,Ta],(e,r,t,a,i)=>r.filter(n=>e==="horizontal"?n.xAxisId===t:n.yAxisId===a).filter(n=>n.isPanorama===i).filter(n=>n.hide===!1).filter(n=>n.type==="bar")),Ra=(e,r,t)=>{var a=re(e),i=Y(e,r),n=J(e,r);if(!(i==null||n==null))return a==="horizontal"?Ge(e,"yAxis",n,t):Ge(e,"xAxis",i,t)},La=(e,r)=>{var t=re(e),a=Y(e,r),i=J(e,r);if(!(a==null||i==null))return t==="horizontal"?qe(e,"xAxis",a):qe(e,"yAxis",i)},Na=H([za,ar,La],pa),Ma=(e,r,t)=>{var a,i,n=se(e,r);if(n==null)return 0;var s=Y(e,r),c=J(e,r);if(s==null||c==null)return 0;var u=re(e),p=yt(e),{maxBarSize:v}=n,g=xe(v)?p:v,f,j;return u==="horizontal"?(f=ee(e,"xAxis",s,t),j=te(e,"xAxis",s,t)):(f=ee(e,"yAxis",c,t),j=te(e,"yAxis",c,t)),(a=(i=ht(f,j,!0))!==null&&i!==void 0?i:g)!==null&&a!==void 0?a:0},Dt=(e,r,t)=>{var a=re(e),i=Y(e,r),n=J(e,r);if(!(i==null||n==null)){var s,c;return a==="horizontal"?(s=ee(e,"xAxis",i,t),c=te(e,"xAxis",i,t)):(s=ee(e,"yAxis",n,t),c=te(e,"yAxis",n,t)),ht(s,c)}},Wa=H([Na,yt,tr,rr,Ma,Dt,Ca],ga),Fa=(e,r,t)=>{var a=Y(e,r);if(a!=null)return ee(e,"xAxis",a,t)},$a=(e,r,t)=>{var a=J(e,r);if(a!=null)return ee(e,"yAxis",a,t)},_a=(e,r,t)=>{var a=Y(e,r);if(a!=null)return te(e,"xAxis",a,t)},Ka=(e,r,t)=>{var a=J(e,r);if(a!=null)return te(e,"yAxis",a,t)},Ga=H([Wa,se],xa),qa=H([Ra,se],ya),Va=H([Zt,Qt,Fa,$a,_a,Ka,Ga,re,er,Dt,qa,se,Da],(e,r,t,a,i,n,s,c,u,p,v,g,f)=>{var{chartData:j,dataStartIndex:m,dataEndIndex:x}=u;if(!(g==null||s==null||r==null||c!=="horizontal"&&c!=="vertical"||t==null||a==null||i==null||n==null||p==null)){var{data:b}=g,h;if(b!=null&&b.length>0?h=b:h=j?.slice(m,x+1),h!=null)return jn({layout:c,barSettings:g,pos:s,parentViewBox:r,bandSize:p,xAxis:t,yAxis:a,xAxisTicks:i,yAxisTicks:n,stackedData:v,displayedData:h,offset:e,cells:f,dataStartIndex:m})}}),Ha=["index"];function Me(){return Me=Object.assign?Object.assign.bind():function(e){for(var r=1;r<arguments.length;r++){var t=arguments[r];for(var a in t)({}).hasOwnProperty.call(t,a)&&(e[a]=t[a])}return e},Me.apply(null,arguments)}function Ua(e,r){if(e==null)return{};var t,a,i=Xa(e,r);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);for(a=0;a<n.length;a++)t=n[a],r.indexOf(t)===-1&&{}.propertyIsEnumerable.call(e,t)&&(i[t]=e[t])}return i}function Xa(e,r){if(e==null)return{};var t={};for(var a in e)if({}.hasOwnProperty.call(e,a)){if(r.indexOf(a)!==-1)continue;t[a]=e[a]}return t}var zt=l.createContext(void 0),Ya=e=>{var r=l.useContext(zt);if(r!=null)return r.stackId;if(e!=null)return nr(e)},Ja=(e,r)=>"recharts-bar-stack-clip-path-".concat(e,"-").concat(r),Za=e=>{var r=l.useContext(zt);if(r!=null){var{stackId:t}=r;return"url(#".concat(Ja(t,e),")")}},Rt=e=>{var{index:r}=e,t=Ua(e,Ha),a=Za(r);return l.createElement(oe,Me({className:"recharts-bar-stack-layer",clipPath:a},t))},Qa=["onMouseEnter","onMouseLeave","onClick"],en=["value","background","tooltipPosition"],tn=["id"],rn=["onMouseEnter","onClick","onMouseLeave"];function K(){return K=Object.assign?Object.assign.bind():function(e){for(var r=1;r<arguments.length;r++){var t=arguments[r];for(var a in t)({}).hasOwnProperty.call(t,a)&&(e[a]=t[a])}return e},K.apply(null,arguments)}function dt(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);r&&(a=a.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),t.push.apply(t,a)}return t}function B(e){for(var r=1;r<arguments.length;r++){var t=arguments[r]!=null?arguments[r]:{};r%2?dt(Object(t),!0).forEach(function(a){an(e,a,t[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):dt(Object(t)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(t,a))})}return e}function an(e,r,t){return(r=nn(r))in e?Object.defineProperty(e,r,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[r]=t,e}function nn(e){var r=on(e,"string");return typeof r=="symbol"?r:r+""}function on(e,r){if(typeof e!="object"||!e)return e;var t=e[Symbol.toPrimitive];if(t!==void 0){var a=t.call(e,r);if(typeof a!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(r==="string"?String:Number)(e)}function ye(e,r){if(e==null)return{};var t,a,i=sn(e,r);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);for(a=0;a<n.length;a++)t=n[a],r.indexOf(t)===-1&&{}.propertyIsEnumerable.call(e,t)&&(i[t]=e[t])}return i}function sn(e,r){if(e==null)return{};var t={};for(var a in e)if({}.hasOwnProperty.call(e,a)){if(r.indexOf(a)!==-1)continue;t[a]=e[a]}return t}var ln=e=>{var{dataKey:r,name:t,fill:a,legendType:i,hide:n}=e;return[{inactive:n,dataKey:r,type:i,color:a,value:bt(t,r),payload:e}]},cn=l.memo(e=>{var{dataKey:r,stroke:t,strokeWidth:a,fill:i,name:n,hide:s,unit:c,tooltipType:u,id:p}=e,v={dataDefinedOnItem:void 0,getPosition:dr,settings:{stroke:t,strokeWidth:a,fill:i,dataKey:r,nameKey:void 0,name:bt(n,r),hide:s,type:u,color:i,unit:c,graphicalItemId:p}};return l.createElement(cr,{tooltipEntrySettings:v})});function dn(e){var r=pe(kt),{data:t,dataKey:a,background:i,allOtherBarProps:n}=e,{onMouseEnter:s,onMouseLeave:c,onClick:u}=n,p=ye(n,Qa),v=Tt(s,a,n.id),g=Bt(c),f=Ct(u,a,n.id);if(!i||t==null)return null;var j=gr(i);return l.createElement(_e,{zIndex:ba(i,$e.barBackground)},t.map((m,x)=>{var{value:b,background:h,tooltipPosition:y}=m,O=ye(m,en);if(!h)return null;var k=v(m,x),S=g(m,x),w=f(m,x),E=B(B(B(B(B({option:i,isActive:String(x)===r},O),{},{fill:"#eee"},h),j),wt(p,m,x)),{},{onMouseEnter:k,onMouseLeave:S,onClick:w,dataKey:a,index:x,className:"recharts-bar-background-rectangle"});return l.createElement(ge,K({key:"background-bar-".concat(x)},E))}))}function un(e){var{showLabels:r,children:t,rects:a}=e,i=a?.map(n=>{var s={x:n.x,y:n.y,width:n.width,lowerWidth:n.width,upperWidth:n.width,height:n.height};return B(B({},s),{},{value:n.value,payload:n.payload,parentViewBox:n.parentViewBox,viewBox:s,fill:n.fill})});return l.createElement(xr,{value:r?i:void 0},t)}function pn(e){var{shape:r,activeBar:t,baseProps:a,entry:i,index:n,dataKey:s}=e,c=pe(kt),u=pe(jr),p=t&&String(n)===c&&(u==null||s===u),v=p?t:r;return p?l.createElement(_e,{zIndex:$e.activeBar},l.createElement(Rt,{index:n},l.createElement(ge,K({},a,{name:String(a.name)},i,{isActive:p,option:v,index:n,dataKey:s})))):l.createElement(ge,K({},a,{name:String(a.name)},i,{isActive:p,option:v,index:n,dataKey:s}))}function fn(e){var{shape:r,baseProps:t,entry:a,index:i,dataKey:n}=e;return l.createElement(ge,K({},t,{name:String(t.name)},a,{isActive:!1,option:r,index:i,dataKey:n}))}function vn(e){var r,{data:t,props:a}=e,i=(r=br(a))!==null&&r!==void 0?r:{},{id:n}=i,s=ye(i,tn),{shape:c,dataKey:u,activeBar:p}=a,{onMouseEnter:v,onClick:g,onMouseLeave:f}=a,j=ye(a,rn),m=Tt(v,u,n),x=Bt(f),b=Ct(g,u,n);return t?l.createElement(l.Fragment,null,t.map((h,y)=>l.createElement(Rt,K({index:y,key:"rectangle-".concat(h?.x,"-").concat(h?.y,"-").concat(h?.value,"-").concat(y),className:"recharts-bar-rectangle"},wt(j,h,y),{onMouseEnter:m(h,y),onMouseLeave:x(h,y),onClick:b(h,y)}),p?l.createElement(pn,{shape:c,activeBar:p,baseProps:s,entry:h,index:y,dataKey:u}):l.createElement(fn,{shape:c,baseProps:s,entry:h,index:y,dataKey:u})))):null}function mn(e){var{props:r,previousRectanglesRef:t}=e,{data:a,layout:i,isAnimationActive:n,animationBegin:s,animationDuration:c,animationEasing:u,onAnimationEnd:p,onAnimationStart:v}=r,g=t.current,f=vt(r,"recharts-bar-"),[j,m]=l.useState(!1),x=!j,b=l.useCallback(()=>{typeof p=="function"&&p(),m(!1)},[p]),h=l.useCallback(()=>{typeof v=="function"&&v(),m(!0)},[v]);return l.createElement(un,{showLabels:x,rects:a},l.createElement(mt,{animationId:f,begin:s,duration:c,isActive:n,easing:u,onAnimationEnd:b,onAnimationStart:h,key:f},y=>{var O=y===1?a:a?.map((k,S)=>{var w=g&&g[S];if(w)return B(B({},k),{},{x:z(w.x,k.x,y),y:z(w.y,k.y,y),width:z(w.width,k.width,y),height:z(w.height,k.height,y)});if(i==="horizontal"){var E=z(0,k.height,y),C=z(k.stackedBarStart,k.y,y);return B(B({},k),{},{y:C,height:E})}var I=z(0,k.width,y),P=z(k.stackedBarStart,k.x,y);return B(B({},k),{},{width:I,x:P})});return y>0&&(t.current=O??null),O==null?null:l.createElement(oe,null,l.createElement(vn,{props:r,data:O}))}),l.createElement(yr,{label:r.label}),r.children)}function hn(e){var r=l.useRef(null);return l.createElement(mn,{previousRectanglesRef:r,props:e})}var Lt=0,gn=(e,r)=>{var t=Array.isArray(e.value)?e.value[1]:e.value;return{x:e.x,y:e.y,value:t,errorVal:jt(e,r)}};class yn extends l.PureComponent{render(){var{hide:r,data:t,dataKey:a,className:i,xAxisId:n,yAxisId:s,needClip:c,background:u,id:p}=this.props;if(r||t==null)return null;var v=We("recharts-bar",i),g=p;return l.createElement(oe,{className:v,id:p},c&&l.createElement("defs",null,l.createElement(vr,{clipPathId:g,xAxisId:n,yAxisId:s})),l.createElement(oe,{className:"recharts-bar-rectangles",clipPath:c?"url(#clipPath-".concat(g,")"):void 0},l.createElement(dn,{data:t,dataKey:a,background:u,allOtherBarProps:this.props}),l.createElement(hn,this.props)))}}var xn={activeBar:!1,animationBegin:0,animationDuration:400,animationEasing:"ease",background:!1,hide:!1,isAnimationActive:"auto",label:!1,legendType:"rect",minPointSize:Lt,xAxisId:0,yAxisId:0,zIndex:$e.bar};function bn(e){var{xAxisId:r,yAxisId:t,hide:a,legendType:i,minPointSize:n,activeBar:s,animationBegin:c,animationDuration:u,animationEasing:p,isAnimationActive:v}=e,{needClip:g}=ur(r,t),f=pr(),j=xt(),m=fr(e.children,Et),x=pe(y=>Va(y,e.id,j,m));if(f!=="vertical"&&f!=="horizontal")return null;var b,h=x?.[0];return h==null||h.height==null||h.width==null?b=0:b=f==="vertical"?h.height/2:h.width/2,l.createElement(Sa,{xAxisId:r,yAxisId:t,data:x,dataPointFormatter:gn,errorBarOffset:b},l.createElement(yn,K({},e,{layout:f,needClip:g,data:x,xAxisId:r,yAxisId:t,hide:a,legendType:i,minPointSize:n,activeBar:s,animationBegin:c,animationDuration:u,animationEasing:p,isAnimationActive:v})))}function jn(e){var{layout:r,barSettings:{dataKey:t,minPointSize:a},pos:i,bandSize:n,xAxis:s,yAxis:c,xAxisTicks:u,yAxisTicks:p,stackedData:v,displayedData:g,offset:f,cells:j,parentViewBox:m,dataStartIndex:x}=e,b=r==="horizontal"?c:s,h=v?b.scale.domain():null,y=mr({numericAxis:b}),O=b.scale.map(y);return g.map((k,S)=>{var w,E,C,I,P,A;if(v){var Z=v[S+x];if(Z==null)return null;w=hr(Z,h)}else w=jt(k,t),Array.isArray(w)||(w=[y,w]);var R=Ea(a,Lt)(w[1],S);if(r==="horizontal"){var T,_=c.scale.map(w[0]),F=c.scale.map(w[1]);if(_==null||F==null)return null;E=Ve({axis:s,ticks:u,bandSize:n,offset:i.offset,entry:k,index:S}),C=(T=F??_)!==null&&T!==void 0?T:void 0,I=i.size;var U=_-F;if(P=kr(U)?0:U,A={x:E,y:f.top,width:I,height:f.height},Math.abs(R)>0&&Math.abs(P)<Math.abs(R)){var G=He(P||R)*(Math.abs(R)-Math.abs(P));C-=G,P+=G}}else{var q=s.scale.map(w[0]),Q=s.scale.map(w[1]);if(q==null||Q==null)return null;if(E=q,C=Ve({axis:c,ticks:p,bandSize:n,offset:i.offset,entry:k,index:S}),I=Q-q,P=i.size,A={x:f.left,y:C,width:f.width,height:P},Math.abs(R)>0&&Math.abs(I)<Math.abs(R)){var X=He(I||R)*(Math.abs(R)-Math.abs(I));I+=X}}if(E==null||C==null||I==null||P==null)return null;var d=B(B({},k),{},{stackedBarStart:O,x:E,y:C,width:I,height:P,value:v?w:w[1],payload:k,background:A,tooltipPosition:{x:E+I/2,y:C+P/2},parentViewBox:m},j&&j[S]&&j[S].props);return d}).filter(Boolean)}function kn(e){var r=ft(e,xn),t=Ya(r.stackId),a=xt();return l.createElement(or,{id:r.id,type:"bar"},i=>l.createElement(l.Fragment,null,l.createElement(sr,{legendPayload:ln(r)}),l.createElement(cn,{dataKey:r.dataKey,stroke:r.stroke,strokeWidth:r.strokeWidth,fill:r.fill,name:r.name,hide:r.hide,unit:r.unit,tooltipType:r.tooltipType,id:i}),l.createElement(lr,{type:"bar",id:i,data:void 0,xAxisId:r.xAxisId,yAxisId:r.yAxisId,zAxisId:0,dataKey:r.dataKey,stackId:t,hide:r.hide,barSize:r.barSize,minPointSize:r.minPointSize,maxBarSize:r.maxBarSize,isPanorama:a}),l.createElement(_e,{zIndex:r.zIndex},l.createElement(bn,K({},r,{id:i})))))}var Nt=l.memo(kn,ir);Nt.displayName="Bar";var wn=["axis","item"],Pn=l.forwardRef((e,r)=>l.createElement(wr,{chartName:"BarChart",defaultTooltipEventType:"axis",validateTooltipEventTypes:wn,tooltipPayloadSearcher:Pr,categoricalChartProps:e,ref:r}));const Ee=e=>{const r=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],t=e.split("-"),a=parseInt(t.length===3?t[1]:t[0],10),i=parseInt(t.length===3?t[2]:t[1],10);return`${r[a-1]} ${i}`};function M(e){return e==null?"â€”":e>=1e6?(e/1e6).toFixed(1)+"M":e>=1e3?(e/1e3).toFixed(1)+"K":Number(e).toLocaleString()}function Mt({value:e}){if(e==null)return null;const r=e>=0;return o.jsxs("span",{style:{color:r?"#22c55e":"#ef4444",fontSize:12,fontWeight:600},children:[r?"â†‘":"â†“"," ",M(Math.abs(e))]})}function On({value:e}){if(e==null)return null;const r=e>=0;return o.jsxs("span",{style:{color:r?"#22c55e":"#ef4444",fontSize:11,fontWeight:600},children:[r?"â–²":"â–¼"," ",Math.abs(e),"%"]})}function Wt({data:e,gradId:r,color:t="var(--color-primary)"}){return e?.length?o.jsx(ue,{width:"100%",height:40,children:o.jsxs(De,{data:e,margin:{top:2,right:0,bottom:0,left:0},children:[o.jsx("defs",{children:o.jsxs("linearGradient",{id:r,x1:"0",y1:"0",x2:"0",y2:"1",children:[o.jsx("stop",{offset:"5%",stopColor:t,stopOpacity:.45}),o.jsx("stop",{offset:"95%",stopColor:t,stopOpacity:0})]})}),o.jsx(ze,{type:"monotone",dataKey:"v",stroke:t,strokeWidth:1.5,fill:`url(#${r})`,dot:!1,isAnimationActive:!1})]})}):o.jsx("div",{style:{height:40}})}function V({label:e,value:r,change:t,pctChange:a,sparkData:i,gradId:n,loading:s,na:c}){return o.jsxs("div",{className:"card",style:{padding:"20px 20px 14px"},children:[o.jsx("p",{style:{fontSize:10,fontWeight:700,letterSpacing:"0.1em",textTransform:"uppercase",color:"var(--color-text-muted)",marginBottom:10},children:e}),s?o.jsxs(o.Fragment,{children:[o.jsx("div",{className:"animate-pulse",style:{height:34,width:110,borderRadius:4,background:"var(--color-border)",marginBottom:8}}),o.jsx("div",{className:"animate-pulse",style:{height:14,width:70,borderRadius:4,background:"var(--color-border)",marginBottom:12}}),o.jsx("div",{className:"animate-pulse",style:{height:40,borderRadius:4,background:"var(--color-border)"}})]}):c?o.jsxs(o.Fragment,{children:[o.jsx("p",{style:{fontSize:22,fontWeight:800,color:"var(--color-text-muted)",marginBottom:5},children:"N/A"}),o.jsx("p",{style:{fontSize:10,color:"var(--color-text-muted)",marginBottom:12},children:"Not available via X API"}),o.jsx("div",{style:{height:40}})]}):o.jsxs(o.Fragment,{children:[o.jsx("p",{style:{fontSize:30,fontWeight:800,lineHeight:1,letterSpacing:"-0.025em",color:"var(--color-text)",marginBottom:5},children:M(r)}),o.jsxs("div",{style:{marginBottom:8,display:"flex",gap:8,alignItems:"center",flexWrap:"wrap"},children:[o.jsx(Mt,{value:t}),a!=null&&o.jsx(On,{value:a})]}),o.jsx(Wt,{data:i,gradId:n})]})]})}function ut(e){return e?e===1?"#7b3617":e===2?"#c24e0e":e===3?"#e85d04":"#dc2626":"var(--color-bg-secondary, #1e2130)"}const Sn=["S","M","T","W","T","F","S"],$=16;function In(e,r=52){const t=new Date;t.setHours(0,0,0,0);const a=new Date(t);a.setDate(t.getDate()-t.getDay()-(r-1)*7);const i=[];for(let n=0;n<r;n++){const s=[];for(let c=0;c<7;c++){const u=new Date(a);u.setDate(a.getDate()+n*7+c);const p=u.toISOString().slice(0,10);s.push({date:p,count:e[p]||0,future:u>t})}i.push(s)}return i}function An({streak:e,loading:r}){if(r)return o.jsx("div",{className:"card",style:{padding:20},children:o.jsx("div",{className:"animate-pulse",style:{height:160,borderRadius:8,background:"var(--color-border)"}})});const t=In(e?.calendar||{},52),a=e?.current??0;return o.jsxs("div",{className:"card",style:{padding:20},children:[o.jsxs("h3",{style:{fontSize:14,fontWeight:700,marginBottom:18},children:[o.jsxs("span",{style:{color:"var(--color-primary)"},children:[a,"-day"]})," posting streak ðŸ”¥"]}),o.jsx("div",{style:{overflowX:"auto",paddingBottom:4},children:o.jsxs("div",{style:{display:"flex",gap:4,minWidth:"max-content"},children:[o.jsx("div",{style:{display:"flex",flexDirection:"column",gap:2,paddingTop:$+4,marginRight:2,flexShrink:0},children:Sn.map((i,n)=>o.jsx("div",{style:{height:$,width:$,fontSize:10,color:"var(--color-text-muted)",lineHeight:`${$}px`,textAlign:"center"},children:n%2===1?i:""},n))}),o.jsx("div",{style:{display:"flex",gap:2},children:t.map((i,n)=>{const s=n===0||i[0].date.slice(5,7)!==t[n-1][0].date.slice(5,7);return o.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:2},children:[o.jsx("div",{style:{height:$,fontSize:10,color:"var(--color-text-muted)",lineHeight:`${$}px`,whiteSpace:"nowrap",textAlign:"center"},children:s?new Date(i[0].date+"T12:00:00").toLocaleDateString("en",{month:"short"}):""}),i.map((c,u)=>o.jsx("div",{title:`${c.date}: ${c.count} post${c.count!==1?"s":""}`,style:{width:$,height:$,borderRadius:3,background:c.future?"transparent":ut(c.count),opacity:c.future?0:1,cursor:c.count?"pointer":"default"}},u))]},n)})})]})}),o.jsxs("div",{style:{display:"flex",alignItems:"center",gap:4,marginTop:14,justifyContent:"flex-end"},children:[o.jsx("span",{style:{fontSize:10,color:"var(--color-text-muted)",marginRight:2},children:"Less"}),[0,1,2,3,4].map(i=>o.jsx("div",{style:{width:$,height:$,borderRadius:3,background:ut(i)}},i)),o.jsx("span",{style:{fontSize:10,color:"var(--color-text-muted)",marginLeft:2},children:"More"})]})]})}function de({label:e,data:r,sparkData:t,gradId:a,loading:i}){return o.jsxs("div",{className:"card",style:{flex:1,padding:"16px 16px 12px"},children:[o.jsx("p",{style:{fontSize:10,fontWeight:700,letterSpacing:"0.1em",textTransform:"uppercase",color:"var(--color-text-muted)",marginBottom:8},children:e}),i?o.jsx("div",{className:"animate-pulse",style:{height:72,borderRadius:4,background:"var(--color-border)"}}):o.jsxs(o.Fragment,{children:[o.jsx("p",{style:{fontSize:22,fontWeight:800,color:"var(--color-text)",marginBottom:3},children:M(r?.total)}),o.jsxs("div",{style:{display:"flex",alignItems:"center",gap:8,marginBottom:6,flexWrap:"wrap"},children:[o.jsx(Mt,{value:r?.change}),r?.pct!=null&&o.jsxs("span",{style:{fontSize:11,color:"var(--color-text-muted)"},children:[r.pct,"%"]})]}),o.jsx(Wt,{data:t,gradId:a,color:"#f97316"})]})]})}const En=[{value:"impressions",label:"Views"},{value:"likes",label:"Likes"},{value:"retweets",label:"RTs"},{value:"replies",label:"Replies"},{value:"engagementRate",label:"Eng%"}];function Tn(e,r){return[...e].sort((t,a)=>(a[r]||0)-(t[r]||0))}function Bn({tweets:e,loading:r}){const[t,a]=l.useState("impressions"),i=Tn(e,t);return o.jsxs("div",{className:"card",children:[o.jsxs("div",{style:{display:"flex",alignItems:"center",justifyContent:"space-between",padding:"14px 20px",borderBottom:"1px solid var(--color-border-subtle)"},children:[o.jsx("h3",{style:{fontSize:13,fontWeight:700},children:"Best Tweets"}),o.jsx("div",{style:{display:"flex",gap:2},children:En.map(n=>o.jsx("button",{onClick:()=>a(n.value),style:{padding:"3px 10px",borderRadius:6,fontSize:11,fontWeight:600,border:"none",cursor:"pointer",transition:"all 0.1s",background:t===n.value?"oklch(0.65 0.19 250 / 0.15)":"transparent",color:t===n.value?"var(--color-primary)":"var(--color-text-muted)"},children:n.label},n.value))})]}),o.jsxs("div",{style:{display:"grid",gridTemplateColumns:"3fr 80px 65px 55px 65px 60px",padding:"6px 20px",fontSize:10,fontWeight:700,textTransform:"uppercase",letterSpacing:"0.06em",color:"var(--color-text-muted)",borderBottom:"1px solid var(--color-border-subtle)"},children:[o.jsx("div",{children:"Tweet"}),o.jsx("div",{style:{textAlign:"right"},children:"Views"}),o.jsx("div",{style:{textAlign:"right"},children:"Likes"}),o.jsx("div",{style:{textAlign:"right"},children:"RTs"}),o.jsx("div",{style:{textAlign:"right"},children:"Replies"}),o.jsx("div",{style:{textAlign:"right"},children:"Eng%"})]}),o.jsx("div",{style:{maxHeight:420,overflowY:"auto"},children:r?o.jsx("div",{style:{padding:32,textAlign:"center"},children:o.jsx("div",{className:"animate-spin",style:{width:24,height:24,border:"2px solid var(--color-primary)",borderTopColor:"transparent",borderRadius:"50%",display:"inline-block"}})}):i.length>0?i.map((n,s)=>o.jsxs("div",{style:{display:"grid",gridTemplateColumns:"3fr 80px 65px 55px 65px 60px",padding:"10px 20px",borderBottom:"1px solid var(--color-border-subtle)",transition:"background 0.1s",cursor:"default"},onMouseEnter:c=>c.currentTarget.style.background="var(--color-surface-hover)",onMouseLeave:c=>c.currentTarget.style.background="transparent",children:[o.jsxs("div",{children:[o.jsx("p",{style:{fontSize:12,color:"var(--color-text)",display:"-webkit-box",WebkitLineClamp:2,WebkitBoxOrient:"vertical",overflow:"hidden"},children:n.text}),o.jsx("p",{style:{fontSize:10,color:"var(--color-text-muted)",marginTop:2},children:n.date})]}),o.jsx("div",{style:{textAlign:"right",fontSize:12,fontFamily:"monospace",color:"var(--color-text-secondary)",alignSelf:"center"},children:M(n.impressions)}),o.jsx("div",{style:{textAlign:"right",fontSize:12,fontFamily:"monospace",color:"var(--color-text-secondary)",alignSelf:"center"},children:M(n.likes)}),o.jsx("div",{style:{textAlign:"right",fontSize:12,fontFamily:"monospace",color:"var(--color-text-secondary)",alignSelf:"center"},children:M(n.retweets)}),o.jsx("div",{style:{textAlign:"right",fontSize:12,fontFamily:"monospace",color:"var(--color-text-secondary)",alignSelf:"center"},children:M(n.replies)}),o.jsx("div",{style:{textAlign:"right",alignSelf:"center"},children:o.jsxs("span",{style:{fontSize:12,fontFamily:"monospace",fontWeight:700,color:n.engagementRate>3?"#22c55e":n.engagementRate>1.5?"var(--color-primary)":"var(--color-text-muted)"},children:[n.engagementRate?.toFixed(1),"%"]})})]},n.id||s)):o.jsx("p",{style:{padding:32,textAlign:"center",fontSize:12,color:"var(--color-text-muted)"},children:"No tweets found for this period"})})]})}function Dn(){const[e,r]=l.useState(null),[t,a]=l.useState(!0),[i,n]=l.useState("7d"),[s,c]=l.useState("engagements"),[u,p]=l.useState("bar"),[v,g]=l.useState(null);l.useEffect(()=>{a(!0),fetch(`/api/analytics?period=${i}`).then(d=>d.json()).then(d=>{r(d),a(!1)}).catch(()=>a(!1))},[i]),l.useEffect(()=>{fetch(`/api/snapshots/daily?period=${i}`).then(d=>d.json()).then(d=>g(d)).catch(()=>{})},[i]);const f=e?.stats??{},j=e?.streak??{current:0,calendar:{}},m=e?.engagementBreakdown??{},x=e?.followerHistory??[],b=e?.dailyViews??[],h=e?.tweets??[],y=x.map(d=>({v:d.followers})),O=b.map(d=>({v:d.posts||0})),k=b.map(d=>({v:d.views||0})),S=b.map(d=>({v:d.engagements||0})),w=b.map(d=>({v:d.likes||0})),E=b.map(d=>({v:d.retweets||0})),C=b.map(d=>({v:d.replies||0})),I=b.map(d=>({v:d.bookmarks||0})),P=v?.days||[],A=v?.hasData===!0,Z=P.map(d=>({date:d.date,delta:d.newFollowers||0})),R=P.reduce((d,D)=>d+(D.impressions||0),0),T=P.reduce((d,D)=>d+(D.likes||0),0),_=P.reduce((d,D)=>d+(D.retweets||0),0),F=P.reduce((d,D)=>d+(D.replies||0),0),U=P.reduce((d,D)=>d+(D.bookmarks||0),0),G=Math.floor(P.length/2),q=P.slice(0,G),Q=P.slice(G);function X(d){const D=q.reduce((je,ke)=>je+(ke[d]||0),0),Ft=Q.reduce((je,ke)=>je+(ke[d]||0),0);return D?Math.round((Ft-D)/Math.abs(D)*100):null}return f.impressions>0&&parseFloat((f.engagements/f.impressions*100).toFixed(2)),o.jsxs("div",{style:{padding:24,display:"flex",flexDirection:"column",gap:20},children:[o.jsxs("div",{style:{display:"flex",alignItems:"center",justifyContent:"space-between"},children:[o.jsxs("div",{children:[o.jsx("h1",{style:{fontSize:20,fontWeight:800,marginBottom:2},children:"Analytics"}),o.jsxs("p",{style:{fontSize:12,color:"var(--color-text-muted)"},children:["See what's working and what's not",o.jsx("span",{style:{margin:"0 6px",color:"var(--color-border)"},children:"Â·"}),o.jsx("a",{href:"https://superx.so/?via=oliver",target:"_blank",rel:"noopener noreferrer",style:{color:"var(--color-primary)",fontWeight:600,fontSize:11},children:"Want auto retweet, auto plug, and scheduling? Try SuperX â†’"})]})]}),o.jsxs("select",{value:i,onChange:d=>n(d.target.value),style:{background:"var(--color-surface)",border:"1px solid var(--color-border)",borderRadius:8,padding:"7px 12px",fontSize:13,color:"var(--color-text)",cursor:"pointer",outline:"none"},children:[o.jsx("option",{value:"7d",children:"Last 7 days"}),o.jsx("option",{value:"30d",children:"Last 30 days"}),o.jsx("option",{value:"90d",children:"Last 90 days"})]})]}),o.jsx(An,{streak:j,loading:t}),o.jsxs("div",{style:{display:"grid",gridTemplateColumns:"repeat(4, 1fr)",gap:12},children:[o.jsx(V,{label:"Followers",value:f.followers,change:f.followersChange,sparkData:y,gradId:"spk-flw",loading:t}),o.jsx(V,{label:"Impressions",value:A?R:f.impressions,change:f.impressionsChange,pctChange:A?X("impressions"):null,sparkData:k,gradId:"spk-imp",loading:t}),o.jsx(V,{label:"Engagements",value:f.engagements,change:f.engagementsChange,sparkData:S,gradId:"spk-engt",loading:t}),o.jsx(V,{label:"Posts",value:f.posts,change:f.postsChange,sparkData:O,gradId:"spk-pst",loading:t})]}),o.jsxs("div",{style:{display:"grid",gridTemplateColumns:"repeat(4, 1fr)",gap:12},children:[o.jsx(V,{label:"Likes",value:A?T:m.likes?.total,change:m.likes?.change,pctChange:A?X("likes"):null,sparkData:w,gradId:"spk-lk2",loading:t}),o.jsx(V,{label:"Reposts",value:A?_:m.retweets?.total,change:m.retweets?.change,pctChange:A?X("retweets"):null,sparkData:E,gradId:"spk-rt2",loading:t}),o.jsx(V,{label:"Replies",value:A?F:m.replies?.total,change:m.replies?.change,pctChange:A?X("replies"):null,sparkData:C,gradId:"spk-rp2",loading:t}),o.jsx(V,{label:"Bookmarks",value:A?U:m.bookmarks?.total,change:m.bookmarks?.change,pctChange:A?X("bookmarks"):null,sparkData:I,gradId:"spk-bk2",loading:t})]}),o.jsxs("div",{className:"card",style:{padding:20},children:[o.jsx("h3",{style:{fontSize:13,fontWeight:700,marginBottom:16},children:"Follows Over Time"}),o.jsx("div",{style:{height:180},children:t?o.jsx("div",{style:{height:"100%",display:"flex",alignItems:"center",justifyContent:"center"},children:o.jsx("div",{className:"animate-spin",style:{width:24,height:24,border:"2px solid var(--color-primary)",borderTopColor:"transparent",borderRadius:"50%"}})}):A?o.jsx(ue,{width:"100%",height:"100%",children:o.jsxs(De,{data:Z,margin:{top:4,right:4,bottom:0,left:0},children:[o.jsx("defs",{children:o.jsxs("linearGradient",{id:"followDeltaGrad",x1:"0",y1:"0",x2:"0",y2:"1",children:[o.jsx("stop",{offset:"5%",stopColor:"#3b82f6",stopOpacity:.4}),o.jsx("stop",{offset:"95%",stopColor:"#3b82f6",stopOpacity:0})]})}),o.jsx(we,{dataKey:"date",tickFormatter:Ee,tick:{fontSize:10,fill:"var(--color-text-muted)"},axisLine:!1,tickLine:!1}),o.jsx(Pe,{tick:{fontSize:10,fill:"var(--color-text-muted)"},axisLine:!1,tickLine:!1,width:40}),o.jsx(Oe,{contentStyle:{background:"var(--color-surface)",border:"1px solid var(--color-border)",borderRadius:8,fontSize:11},formatter:d=>[d>=0?`+${d}`:d,"New Followers"]}),o.jsx(ze,{type:"monotone",dataKey:"delta",stroke:"#3b82f6",strokeWidth:2,fill:"url(#followDeltaGrad)",dot:!1})]})}):o.jsx("div",{style:{height:"100%",display:"flex",alignItems:"center",justifyContent:"center",fontSize:12,color:"var(--color-text-muted)",textAlign:"center"},children:o.jsxs("div",{children:[o.jsx("p",{children:"Snapshot data is being collected."}),o.jsx("p",{style:{fontSize:11,marginTop:4},children:"Daily follower deltas will appear here after the first poll."})]})})})]}),o.jsxs("div",{className:"card",style:{padding:20},children:[o.jsxs("div",{style:{display:"flex",alignItems:"center",justifyContent:"space-between",marginBottom:16},children:[o.jsx("h3",{style:{fontSize:13,fontWeight:700},children:"Follower Gain (cumulative)"}),o.jsx("div",{style:{display:"flex",gap:4},children:[{v:"line",icon:"ã€œ"},{v:"bar",icon:"â–Š"}].map(d=>o.jsx("button",{onClick:()=>p(d.v),title:d.v==="line"?"Line chart":"Bar chart",style:{padding:"4px 10px",borderRadius:6,border:"none",cursor:"pointer",fontSize:13,transition:"all 0.1s",background:u===d.v?"oklch(0.65 0.19 250 / 0.15)":"transparent",color:u===d.v?"var(--color-primary)":"var(--color-text-muted)"},children:d.icon},d.v))})]}),o.jsx("div",{style:{height:200},children:t?o.jsx("div",{style:{height:"100%",display:"flex",alignItems:"center",justifyContent:"center"},children:o.jsx("div",{className:"animate-spin",style:{width:24,height:24,border:"2px solid var(--color-primary)",borderTopColor:"transparent",borderRadius:"50%"}})}):x.length>1?o.jsxs(o.Fragment,{children:[o.jsx("div",{style:{height:"100%",display:u==="line"?"block":"none"},children:o.jsx(ue,{width:"100%",height:"100%",children:o.jsxs(De,{data:x,margin:{top:4,right:4,bottom:0,left:0},children:[o.jsx("defs",{children:o.jsxs("linearGradient",{id:"followerGrad",x1:"0",y1:"0",x2:"0",y2:"1",children:[o.jsx("stop",{offset:"5%",stopColor:"var(--color-primary)",stopOpacity:.35}),o.jsx("stop",{offset:"95%",stopColor:"var(--color-primary)",stopOpacity:0})]})}),o.jsx(we,{dataKey:"date",tickFormatter:Ee,tick:{fontSize:10,fill:"var(--color-text-muted)"},axisLine:!1,tickLine:!1}),o.jsx(Pe,{tick:{fontSize:10,fill:"var(--color-text-muted)"},axisLine:!1,tickLine:!1,width:48,tickFormatter:M}),o.jsx(Oe,{contentStyle:{background:"var(--color-surface)",border:"1px solid var(--color-border)",borderRadius:8,fontSize:11},formatter:d=>[M(d),"Followers"]}),o.jsx(ze,{type:"monotone",dataKey:"followers",stroke:"var(--color-primary)",strokeWidth:2,fill:"url(#followerGrad)",dot:!1})]})})}),o.jsx("div",{style:{height:"100%",display:u==="bar"?"block":"none"},children:o.jsx(ue,{width:"100%",height:"100%",children:o.jsxs(Pn,{data:x,margin:{top:4,right:4,bottom:0,left:0},children:[o.jsx(we,{dataKey:"date",tickFormatter:Ee,tick:{fontSize:10,fill:"var(--color-text-muted)"},axisLine:!1,tickLine:!1}),o.jsx(Pe,{tick:{fontSize:10,fill:"var(--color-text-muted)"},axisLine:!1,tickLine:!1,width:48,tickFormatter:M}),o.jsx(Oe,{contentStyle:{background:"var(--color-surface)",border:"1px solid var(--color-border)",borderRadius:8,fontSize:11},formatter:d=>[M(d),"Followers"]}),o.jsx(Nt,{dataKey:"followers",fill:"var(--color-primary)",radius:[3,3,0,0],opacity:.85})]})})})]}):o.jsx("div",{style:{height:"100%",display:"flex",alignItems:"center",justifyContent:"center",fontSize:12,color:"var(--color-text-muted)"},children:"No follower history yet â€” data builds up over time"})})]}),o.jsxs("div",{className:"card",style:{padding:"0 0 20px"},children:[o.jsx("div",{style:{display:"flex",borderBottom:"1px solid var(--color-border-subtle)",padding:"0 20px"},children:[{key:"engagements",label:"Engagements"},{key:"activity",label:"Activity time / impression"}].map(d=>o.jsx("button",{onClick:()=>c(d.key),style:{padding:"12px 16px",fontSize:13,fontWeight:600,border:"none",background:"transparent",cursor:"pointer",borderBottom:s===d.key?"2px solid var(--color-primary)":"2px solid transparent",color:s===d.key?"var(--color-text)":"var(--color-text-muted)",marginBottom:-1,transition:"color 0.1s"},children:d.label},d.key))}),o.jsx("div",{style:{padding:"20px 20px 0"},children:s==="engagements"?o.jsxs("div",{style:{display:"flex",gap:12},children:[o.jsx(de,{label:"Likes",data:m.likes,sparkData:w,gradId:"spk-lk",loading:t}),o.jsx(de,{label:"Retweets",data:m.retweets,sparkData:E,gradId:"spk-rt",loading:t}),o.jsx(de,{label:"Replies",data:m.replies,sparkData:C,gradId:"spk-rp",loading:t}),o.jsx(de,{label:"Bookmarks",data:m.bookmarks,sparkData:I,gradId:"spk-bk",loading:t})]}):o.jsx("p",{style:{fontSize:13,color:"var(--color-text-muted)",textAlign:"center",padding:48},children:"Activity time breakdown â€” coming soon"})})]}),o.jsx(Bn,{tweets:h,loading:t})]})}export{Dn as default};
